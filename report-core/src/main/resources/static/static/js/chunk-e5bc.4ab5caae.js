(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-e5bc"],{RteH:function(e,r,t){"use strict";t.r(r);var a=t("14Xm"),i=t.n(a),n=t("D3Ub"),l=t.n(n),s=t("W6l8"),o={name:"Report",components:{anjiCrud:t("sYqA").default},data:function(){var e=this;return{crudOption:{title:"报表分享",labelWidth:"120px",queryFormFields:[{inputType:"input",label:"分享编码",field:"shareCode"},{inputType:"input",label:"报表编码",field:"reportCode"},{inputType:"anji-select",anjiSelectOption:{dictCode:"SHARE_VAILD"},label:"分享类型",field:"shareValidType"}],tableButtons:[{label:"删除",type:"danger",permission:"reportShareManage:delete",icon:"el-icon-delete",plain:!1,click:function(){return e.$refs.listPage.handleDeleteBatch()}}],rowButtons:[{label:"复制url",click:this.copyUrlPath},{label:"删除",permission:"reportShareManage:delete",click:function(r){return e.$refs.listPage.handleDeleteBatch(r)}},{label:"延期1天",permission:"reportShareManage:shareDelay",click:this.shareDelay_1},{label:"延期1周",permission:"reportShareManage:shareDelay",click:this.shareDelay_7},{label:"延期1月",permission:"reportShareManage:shareDelay",click:this.shareDelay_30}],buttons:{query:{api:s.g,permission:"ReportShare:query",sort:"create_time",order:"DESC"},queryByPrimarykey:{api:s.e,permission:"ReportShare:detail"},delete:{api:s.d,permission:"ReportShare:delete"},rowButtonsWidth:150},columns:[{label:"",field:"id",primaryKey:!0,tableHide:!0,editHide:!0},{label:"报表编码",placeholder:"",field:"reportCode",editField:"reportCode",inputType:"input",rules:[{min:1,max:50,message:"不超过50个字符",trigger:"blur"}],disabled:!1},{label:"分享编码",placeholder:"",field:"shareCode",editField:"shareCode",inputType:"input",rules:[{min:1,max:50,message:"不超过50个字符",trigger:"blur"}],disabled:!1},{label:"分享类型",placeholder:"",field:"shareValidType",fieldTableRowRenderer:function(r){return e.getDictLabelByCode("SHARE_VAILD",r.shareValidType)},editField:"shareValidType",inputType:"input",rules:[],disabled:!1},{label:"分享过期时间",placeholder:"",field:"shareValidTime",editField:"shareValidTime",inputType:"input",rules:[],disabled:!1},{label:"分享token",placeholder:"",field:"shareToken",editField:"shareToken",tableHide:!0,inputType:"input",rules:[{min:1,max:255,message:"不超过255个字符",trigger:"blur"}],disabled:!1},{label:"分享url",placeholder:"",field:"shareUrl",editField:"shareUrl",inputType:"input",rules:[{min:1,max:100,message:"不超过100个字符",trigger:"blur"}],disabled:!1},{label:"分享码",placeholder:"",field:"sharePassword",editField:"sharePassword",inputType:"input",rules:[],disabled:!1}],formChange:function(e,r,t,a){}},copyVisible:!1,rowData:{}}},created:function(){},methods:{handleOpenDialog1:function(){alert("自定义按钮1点击事件")},shareDelay_1:function(e){this.shareDelay(e.id,1)},shareDelay_7:function(e){this.shareDelay(e.id,7)},shareDelay_30:function(e){this.shareDelay(e.id,30)},shareDelay:function(e,r){var t=this;return l()(i.a.mark(function a(){var n,l;return i.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return(n={}).id=e,n.shareValidType=r,a.next=5,Object(s.c)(n);case 5:if(l=a.sent,"200"==l.code){a.next=9;break}return a.abrupt("return");case 9:t.$message({message:"延期成功！",type:"success"}),t.$refs.listPage.handleQueryForm("query");case 11:case"end":return a.stop()}},a,t)}))()},copyUrlPath:function(e){this.copyToClip(e.shareUrl),this.$message({message:"已将url路径复制至剪切板！",type:"success"})},copyToClip:function(e,r){var t=document.createElement("input");t.setAttribute("value",e),document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)}}},d=t("KHd+"),u=Object(d.a)(o,function(){var e=this.$createElement;return(this._self._c||e)("anji-crud",{ref:"listPage",attrs:{option:this.crudOption},scopedSlots:this._u([{key:"pageSection",fn:function(){},proxy:!0}])})},[],!1,null,null,null);u.options.__file="index.vue";r.default=u.exports},W6l8:function(e,r,t){"use strict";t.d(r,"g",function(){return i}),t.d(r,"b",function(){return n}),t.d(r,"a",function(){return l}),t.d(r,"c",function(){return s}),t.d(r,"d",function(){return o}),t.d(r,"e",function(){return d}),t.d(r,"f",function(){return u});var a=t("t3Un");function i(e){return Object(a.a)({url:"reportShare/pageList",method:"GET",params:e})}function n(e){return Object(a.a)({url:"reportDashboard/share",method:"post",data:e})}function l(e){return Object(a.a)({url:"reportExcel/share",method:"post",data:e})}function s(e){return Object(a.a)({url:"reportShare/shareDelay",method:"post",data:e})}function o(e){return Object(a.a)({url:"reportShare/delete/batch",method:"post",data:e})}function d(e){return Object(a.a)({url:"reportShare/"+e.id,method:"get",params:{accessKey:e.accessKey}})}function u(e){return Object(a.a)({url:"reportShare/detailByCode",method:"get",params:{shareCode:e}})}}}]);